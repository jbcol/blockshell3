---
import BaseLayout from '../layouts/BaseLayout.astro';
---


<BaseLayout betweenMainAndFooterClass="grow" mainClass="w-4/5 gap-16 place-content-center text-center items-center self-center mt-24 flex flex-col">

    <button id="buttonCreate" class="appearance-none font-bold m-8 p-4 flex place-self-start text-center text-2xl rounded-xl text-white bg-[#350f63] cursor-pointer hover:scale-105 ease-in-out duration-300 border-fuchsia-600 hover:drop-shadow-[0_0_6px_rgba(255,0,255,1)]">Add user</button>
   
    <div id="modale" class="hidden h-screen w-screen backdrop-blur-md fixed place-content-center z-30 bg-transparent">
        <div class="flex flex-col self-center z-30 gap-6 p-4 border border-solid rounded-xl bg-violet-900">
            <button id="buttonClose" class="appearance-none self-end h-12 w-12 flex text-center place-content-center text-2xl rounded-xl text-white bg-opacity-40 bg-slate-500 cursor-pointer hover:scale-105 ease-in-out duration-300 border-slate-400">x</button>
            <input id="Lastname" class="font-bold text-left p-4 text-xl text-white outline-none border-none self-center bg-neutral-500 rounded-lg" placeholder="Lastname" value=""/>
            <input id="firstname" class="font-bold text-left p-4 text-xl text-white outline-none border-none self-center bg-neutral-500 rounded-lg" placeholder="Firstname" value=""/>
            <button id="add" class="appearance-none self-end font-bold p-4 flex place-self-start text-center text-2xl rounded-xl text-white bg-[#350f63] cursor-pointer hover:scale-105 ease-in-out duration-300 border-fuchsia-600 hover:drop-shadow-[0_0_6px_rgba(255,0,255,1)]">Add</button>
        </div>
    </div>

    <script is:inline>
        const handleCreate = () => {
            document.getElementById('modale').classList.remove('hidden');
            document.getElementById('modale').classList.add('flex');
        }

        const handleClose = () => {
            document.getElementById('modale').classList.add('hidden');
            document.getElementById('modale').classList.remove('flex');
        }

        const handleAdd = () => {
            const list = document.getElementById('list');
            const Lastname = document.getElementById('Lastname').value;
            const firstname = document.getElementById('firstname').value;

            let lineToAdd ='<div class="flex flex-row bg-[#1D013E] w-full border-2 border-solid border-b-fuchsia-600 border-r-fuchsia-600 border-l-fuchsia-600 border-t-0"><p class="font-bold text-xl self-center py-4 my-0 basis-1/3 border border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-neutral-500">'+firstname+'</p><p class="font-bold text-xl self-center py-4 my-0 basis-1/3 border-4 border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-neutral-500">'+Lastname+'<div class="flex basis-1/3 place-content-center"><button class="flex m-2 p-2 bg-[#350f63] text-center text-white text-lg font-bold cursor-pointer place-content-center self-center border border-solid rounded-lg border-fuchsia-600 hover:scale-105 duration-300 ease-in-out">Launch recovery process</button></div></div>'

            list.insertAdjacentHTML('beforeend', lineToAdd);

            handleClose();
        }

        document.getElementById("buttonCreate").addEventListener("click", handleCreate);
        document.getElementById("buttonClose").addEventListener("click", handleClose);
        document.getElementById("add").addEventListener("click", handleAdd);
    </script>


    <div id="list" class="flex flex-col w-full drop-shadow-[0_0_10px_rgba(255,0,255,0.7)]">
        <div class="flex flex-row bg-[#350f63] w-full rounded-t-lg border-2 border-solid border-fuchsia-600">
            <p class="font-bold text-2xl self-center py-4 my-0 basis-1/3 border border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-fuchsia-600">Lastname</p>
            <p class="font-bold text-2xl self-center py-4 my-0 basis-1/3 border-4 border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-fuchsia-600">Firstname</p>
            <div class="flex basis-1/3 text-2xl text-white font-bold text-center place-content-center self-center">Restore</div>
        </div>

        <div class="flex flex-row bg-[#1D013E] w-full border-2 border-solid border-b-fuchsia-600 border-r-fuchsia-600 border-l-fuchsia-600 border-t-0">
            <p class="font-bold text-xl self-center py-4 my-0 basis-1/3 border border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-neutral-500">Sylvie</p>
            <p class="font-bold text-xl self-center py-4 my-0 basis-1/3 border-4 border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-neutral-500">Boucher</p>
            <div class="flex basis-1/3 place-content-center">
                <button class="flex m-2 p-2 bg-[#350f63] text-center text-white text-lg font-bold cursor-pointer place-content-center self-center border border-solid rounded-lg border-fuchsia-600 hover:scale-105 duration-300 ease-in-out">Launch recovery process</button>
            </div>
        </div>

        <div class="flex flex-row bg-[#1D013E] w-full border-2 border-solid border-b-fuchsia-600 border-r-fuchsia-600 border-l-fuchsia-600 border-t-0">
            <p class="font-bold text-xl self-center py-4 my-0 basis-1/3 border border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-neutral-500">Frank</p>
            <p class="font-bold text-xl self-center py-4 my-0 basis-1/3 border-4 border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-neutral-500">Dupont</p>
            <div class="flex basis-1/3 place-content-center">
                <button class="flex m-2 p-2 bg-[#350f63] text-center text-white text-lg font-bold cursor-pointer place-content-center self-center border border-solid rounded-lg border-fuchsia-600 hover:scale-105 duration-300 ease-in-out">Launch recovery process</button>
            </div>
        </div>        
        
        <div class="flex flex-row bg-[#1D013E] w-full border-2 border-solid border-b-fuchsia-600 border-r-fuchsia-600 border-l-fuchsia-600 border-t-0">
            <p class="font-bold text-xl self-center py-4 my-0 basis-1/3 border border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-neutral-500">Martin</p>
            <p class="font-bold text-xl self-center py-4 my-0 basis-1/3 border-4 border-r-2 border-b-0 border-t-0 border-l-0 h-fit border-solid border-neutral-500">Dumatin</p>
            <div class="flex basis-1/3 place-content-center">
                <button class="flex m-2 p-2 bg-[#350f63] text-center text-white text-lg font-bold cursor-pointer place-content-center self-center border border-solid rounded-lg border-fuchsia-600 hover:scale-105 duration-300 ease-in-out">Launch recovery process</button>
            </div>
        </div>

    </div>
</BaseLayout>